function stripeResponseHandler(t,e){var n=jQuery("#payment-form");if(e.error)alert(e.error.message),n.find("button").prop("disabled",!1);else{var i=e.id;n.append("<input type='hidden' name='stripeToken' value='"+i+"'/>"),n.get(0).submit()}}function confirmAction(){return!!confirm("Are you sure?")}function load_dialog_follow(t,e,n){document.getElementById("product_to_follow").innerHTML=t,setCookie("prod_key",e,1),setCookie("prod_lang",n,1),jQuery("#dialog_follow").modal({keyboard:!0}),page_view("ga_follow_dialog="+n+"/"+e)}function toggleProductFollow(t){var e=jQuery(t.currentTarget),n=e.data(),i="/package/follow.json",r="/package/unfollow.json",o=i,s="fa fa-check-square-o",a="fa fa-square-o";console.debug(n),1==n.followState&&(o=r);var u={src_hidden:"detail",product_lang:n.productLang,product_key:n.productKey},l=function(t){return 0==t.success?(console.debug("Following failed - backend issue!"),1):(console.debug("Followed:"+n.productKey),e.data("followState",!0),e.find("span.btn-title").text(" Unfollow"),void e.find("i.follow-icon").removeClass(a).addClass(s))},c=function(t){return 0==t.success?(console.debug("Unfollowing failed - backend issue!"),1):(console.debug("Unfollowed:"+n.productKey),e.data("followState",!1),e.find("i.follow-icon").removeClass(s).addClass(a),void e.find("span.btn-title").text(" Follow"))},h=function(){console.debug("Show follow  header"),e.find("i.follow-icon").addClass("fa fa-spinner")},d=function(){console.debug("Hide follow loader."),e.find("i.follow-icon").removeClass("fa fa-spinner")};h();jQuery.post(o,u).done(function(t){console.debug(t),0==n.followState?l(t):c(t)}).fail(function(){console.error("Failed")}).always(function(){d(e)})}function exchangeImage(t,e){image_path="/assets/"+e,document.getElementById(t).src=image_path}function show_versioncomment_reply(t){var e="#"+t+"_reply_form",n="#"+t+"_reply_link",i="#"+t+"_hide_link";return jQuery(e).css("display","block"),jQuery(n).css("display","none"),jQuery(i).css("display","block"),!1}function hide_versioncomment_reply(t){var e="#"+t+"_reply_form",n="#"+t+"_reply_link",i="#"+t+"_hide_link";return jQuery(e).css("display","none"),jQuery(n).css("display","block"),jQuery(i).css("display","none"),!1}function setCookie(t,e,n){var i=new Date;new_date=new Date(i.getFullYear(),i.getMonth(),i.getDate()+n),document.cookie=t+"="+e+";expires="+new_date+";path=/"}function load_dialog_mute(t,e,n){document.getElementById("mute_button_id").value=id,document.getElementById("mute_dependency_name").innerHTML=e,document.getElementById("mute_dependency_version").innerHTML=n,jQuery("#dialog_mute").modal({keyboard:!0}),page_view("ga_mute_dialog="+e+"/"+n)}function load_dialog_mute_security(t,e,n){document.getElementById("mute_sec_project_id").value=t,document.getElementById("mute_sec_id").value=e,document.getElementById("mute_security_name").innerHTML=n,jQuery("#dialog_mute_security").modal({keyboard:!0}),page_view("ga_mute_security_dialog="+t+"/"+e)}function showMuteLoader(t){console.debug("Loading"),t.addClass("disabled"),t.find("i.dep-icon").addClass("fa-spinner")}function hideMuteLoader(t){console.debug("Hiding loader."),t.removeClass("disabled"),t.find("i.dep-icon").removeClass("fa-spinner")}function muteProjectSec(){jQuery("#dialog_mute_security").modal("hide"),mute_sec_project_id=document.getElementById("mute_sec_project_id").value,mute_sec_id=document.getElementById("mute_sec_id").value;var t=document.getElementById("mute_sec_message").value,e="/user/projects/mute_security",n={project_id:mute_sec_project_id,sec_id:mute_sec_id,mute_message:t};jQuery.post(e,n).done(function(t){console.debug(t)}).fail(function(){console.error("Failed")})}function muteProjectDep(){jQuery("#dialog_mute").modal("hide"),id=document.getElementById("mute_button_id").value,btn=jQuery(document.getElementById(id+"_button")),muteProjectDependency(btn)}function muteProjectDependency(t){console.debug("Going to mute dependency."),showMuteLoader(t);var e=document.getElementById("mute_message").value,n="/user/projects/"+t.data("projectId")+"/mute_dependency",i={dependency_id:t.data("dependencyId"),mute_message:e};jQuery.post(n,i).done(function(e){console.debug(e),updateColorForPD(e.dependency_id,e.outdated),t.removeClass("mute-off").addClass("mute-on"),t.find("i.dep-icon").removeClass("fa-volume-up").addClass("fa-volume-off")}).fail(function(){console.error("Failed")}).always(function(){hideMuteLoader(t)})}function demuteProjectDependency(t){console.debug("Going to de-mute dependency"),showMuteLoader(t);var e="/user/projects/"+t.data("projectId")+"/demute_dependency",n={dependency_id:t.data("dependencyId")};jQuery.post(e,n).done(function(e){console.debug(e),updateColorForPD(e.dependency_id,e.outdated),t.removeClass("mute-on").addClass("mute-off"),t.find("i.dep-icon").removeClass("fa-volume-off").addClass("fa-volume-up")}).fail(function(){console.error("Failed")}).always(function(){hideMuteLoader(t)})}function toggleProjectDependencyMute(t){var e=jQuery(t.currentTarget);return e.hasClass("disabled")?console.debug("Going to ignore: Click on disabled button"):e.hasClass("mute-on")?demuteProjectDependency(e):e.hasClass("mute-off")?(id=e.data("id"),name=e.data("dependency-name"),version=e.data("dependency-version"),load_dialog_mute(id,name,version)):console.debug("Hmm, mute button misses classes. Going to ignore that"),!1}function updateColorForPD(t,e){rows=jQuery("#"+t+"__row"),1==e?rows[0].className="flash error":rows[0].className="flash success"}function preventSubmit(t,e){return element=document.getElementById(t),""==element.value?(alert("The "+e+" input field can't be empty!"),!1):!0}jQuery(document).ready(function(){console.log(" document loaded !"),jQuery("#payment-form").length&&jQuery("#payment-form").submit(function(){var t=jQuery("#payment-form");return t.find("button").prop("disabled",!0),Stripe.card.createToken(t,stripeResponseHandler),!1}),jQuery("#tabs").length>0&&jQuery("#tabs").tabs(),jQuery(".github_switch").length>0&&(jQuery(".github_switch").on("switch-change",function(t,e){toggleGitHubProject(e.el,e.value)}),console.log("Github switches are registered.")),jQuery(".btn-follow-product")&&jQuery(".btn-follow-product").on("click",function(t){toggleProductFollow(t)}),jQuery("button[rel=tooltip]")&&jQuery("button[rel=tooltip]").tooltip({placement:"bottom",html:!0}),window.FB&&FB.init({appId:"230574627021570",cookie:!0,status:!0,xfbml:!0}),map_for_profile=document.getElementById("map_for_user_profile"),map_for_profile&&(path=window.location.pathname,path=path.replace("/favoritepackages",""),path=path.replace("/comments",""),jQuery.ajax({url:path+"/users_location.json"}).done(function(t){t&&initialize_profile(t.location)})),window.render_wheel&&render_wheel(),window.render_wheel_demo&&render_wheel_demo(),window.render_wheel_main&&render_wheel_main(),window.render_wheel_development&&render_wheel_development(),window.render_wheel_test&&render_wheel_test(),window.render_wheel_provided&&render_wheel_provided(),window.render_wheel_replace&&render_wheel_replace(),window.render_wheel_require_dev&&render_wheel_require_dev(),jQuery(".btn-mute-version").length>0&&jQuery(".btn-mute-version").on("click",toggleProjectDependencyMute),jcomment=jQuery(".user_comment"),jcomment&&jcomment.length>0&&jQuery(".user_comment").linkify(),jreply=jQuery(".versioncomment_reply_section"),jreply&&jreply.length>0&&jQuery(".versioncomment_reply_section").linkify()});